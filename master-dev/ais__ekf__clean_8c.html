<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MobilityDB: meos/examples/ais_ekf_clean.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="mobilitydb-logo-icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">MobilityDB<span id="projectnumber">&#160;1.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0fff62ca9c7e6b49d869dbbeba2dc9ed.html">meos</a></li><li class="navelem"><a class="el" href="dir_12121c49f044f6afa0e21d8cd2ea7508.html">examples</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ais_ekf_clean.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Example: read AIS CSV, build TSEQUENCE per MMSI, clean with EKF.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;<a class="el" href="meos_8h_source.html">meos.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="meos__geo_8h_source.html">meos_geo.h</a>&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAIS__record.html">AIS_record</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrip__record.html">trip_record</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a64ca261a530c6024bae8a7734511357b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__ekf__clean_8c_a64ca261a530c6024bae8a7734511357b.html#a64ca261a530c6024bae8a7734511357b">INITIAL_INSTANTS</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a64ca261a530c6024bae8a7734511357b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a3b394b8602092d58347b791158062"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__ekf__clean_8c_a09a3b394b8602092d58347b791158062.html#a09a3b394b8602092d58347b791158062">MAX_LINE_LEN</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:a09a3b394b8602092d58347b791158062"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf13d135f55aa629688b12ffdecc39e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__ekf__clean_8c_acf13d135f55aa629688b12ffdecc39e9.html#acf13d135f55aa629688b12ffdecc39e9">MAX_NO_RECORDS</a>&#160;&#160;&#160;20000000</td></tr>
<tr class="separator:acf13d135f55aa629688b12ffdecc39e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c604ca62f10248b6bcedc583d4aa0fc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__ekf__clean_8c_a9c604ca62f10248b6bcedc583d4aa0fc.html#a9c604ca62f10248b6bcedc583d4aa0fc">MAX_SHIPS</a>&#160;&#160;&#160;6500</td></tr>
<tr class="separator:a9c604ca62f10248b6bcedc583d4aa0fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dacbe007856a4687ef4a6ecfe866b7f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__ekf__clean_8c_a4dacbe007856a4687ef4a6ecfe866b7f.html#a4dacbe007856a4687ef4a6ecfe866b7f">NO_RECORDS_BATCH</a>&#160;&#160;&#160;100000</td></tr>
<tr class="separator:a4dacbe007856a4687ef4a6ecfe866b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__ekf__clean_8c_a3c04138a5bfe5d72780bb7e82a18e627.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada397ceab8f0556f2f8382ef8c366414"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__ekf__clean_8c_ada397ceab8f0556f2f8382ef8c366414.html#ada397ceab8f0556f2f8382ef8c366414">parse_timestamp_eu</a> (const char *s, <a class="el" href="postgres__ext__defs_8in_8h_a0cec666f7ba136f78730d20675c0cffe.html#a0cec666f7ba136f78730d20675c0cffe">TimestampTz</a> *out)</td></tr>
<tr class="separator:ada397ceab8f0556f2f8382ef8c366414"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Example: read AIS CSV, build TSEQUENCE per MMSI, clean with EKF. </p>
<hr  />
<p >This MobilityDB code is provided under The PostgreSQL License. Copyright (c) 2016-2025, Universit√© libre de Bruxelles and MobilityDB contributors</p>
<p >MobilityDB includes portions of PostGIS version 3 source code released under the GNU General Public License (GPLv2 or later). Copyright (c) 2001-2025, PostGIS contributors</p>
<p >Permission to use, copy, modify, and distribute this software and its documentation for any purpose, without fee, and without a written agreement is hereby granted, provided that the above copyright notice and this paragraph and the following two paragraphs appear in all copies.</p>
<p >IN NO EVENT SHALL UNIVERSITE LIBRE DE BRUXELLES BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS, ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF UNIVERSITE LIBRE DE BRUXELLES HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<p >UNIVERSITE LIBRE DE BRUXELLES SPECIFICALLY DISCLAIMS ANY WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE SOFTWARE PROVIDED HEREUNDER IS ON AN "AS IS" BASIS, AND UNIVERSITE LIBRE DE BRUXELLES HAS NO OBLIGATIONS TO PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.</p>
<hr  />
<p >Input CSV columns, first row is a header: Timestamp,Type of mobile,MMSI,Latitude,Longitude, ... (other columns ignored) Example timestamp format: "01/03/2024 00:00:00" (DD/MM/YYYY HH:MM:SS)</p>
<p >For each MMSI we aggregate geographic positions (Longitude, Latitude) into a TSEQUENCE of tgeompoint instants and apply an EKF via <a class="el" href="group__meos__temporal__analytics__simplify_ga2a26451a5f62db0b2c22725e77d9e4f6.html#ga2a26451a5f62db0b2c22725e77d9e4f6" title="EKF-based outlier filtering for temporal floats/points.">temporal_ext_kalman_filter()</a>.</p>
<p >Build: gcc -Wall -O2 -I/usr/local/include -o ais_ekf_clean <a class="el" href="ais__ekf__clean_8c.html" title="Example: read AIS CSV, build TSEQUENCE per MMSI, clean with EKF.">meos/examples/ais_ekf_clean.c</a> \ -L/usr/local/lib -lmeos</p>
<p >Run: ./ais_ekf_clean input.csv [output.csv] [drop|fill] [gate_sigma] [q=...] [r=...] </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
